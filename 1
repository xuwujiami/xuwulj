#!/bin/bash

print_title() {
    clear
    echo "=================================================="
    echo "||                                              ||"
    echo "||             ██████╗ ██╗   ██╗██████╗          ||"
    echo "||            ██╔═══██╗██║   ██║██╔══██╗         ||"
    echo "||            ██║   ██║██║   ██║██████╔╝         ||"
    echo "||            ██║   ██║██║   ██║██╔══██╗         ||"
    echo "||            ╚██████╔╝╚██████╔╝██║  ██║         ||"
    echo "||             ╚═════╝  ╚═════╝ ╚═╝  ╚═╝         ||"
    echo "||                                              ||"
    echo "||             【虚无拦截工具 v1.0】             ||"
    echo "||                                              ||"
    echo "=================================================="
    echo "                  [机械控制模块]"
    echo
}

main_menu() {
    while true; do
        print_title
        echo "=================================="
        echo "| 1. 免费版本 [功能少处理慢]        |"
        echo "| 2. 付费版本 [功能多处理快]        |"
        echo "| 3. 退出                |"
        echo "=================================="
        read -p "请输入指令代码 (1/2/3): " choice

        case $choice in
            1)
                echo -e "\n[系统响应] 正在载入拦截分析模块..."
                sleep 2  # 机械延迟效果
                echo "[系统状态] 模块启动中 [■□□□□] 20%"
                sleep 1
                echo "[系统状态] 模块启动中 [■■■□□] 60%"
                sleep 1
                echo "[系统状态] 模块启动完成 [■■■■■] 100%"
                sleep 1
                bash "$HOME/xuwulj/main"  # 执行功能1
                ;;
            2)
                echo -e "\n[系统响应] 正在载入批量拦截模块..."
                sleep 2
                echo "[系统状态] 模块启动中 [■□□□□] 20%"
                sleep 1
                echo "[系统状态] 模块启动中 [■■■□□] 60%"
                sleep 1
                echo "[系统状态] 模块启动完成 [■■■■■] 100%"
                sleep 1
                bash "$HOME/xuwulj/mainmf"  # 执行功能2
                ;;
            3)
                echo -e "\n[系统响应] 正在关闭拦截系统..."
                sleep 1
                echo "[系统状态] 断电序列启动 [■■■■■]"
                sleep 1
                echo "[系统状态] 已安全关闭"
                exit 0
                ;;
            *)
                echo -e "\n[错误] 无效指令代码，请重新输入"
                sleep 1.5
                ;;
        esac
        # 执行完停留，机械提示返回
        read -p "[提示] 按任意键返回控制界面..."
    done
}

# 启动程序
main_menu